{"version":3,"sources":["components/TextField/index.module.css","components/Logo/index.module.css","components/ResetButton/index.module.css","containers/Layout/index.module.css","action-types/userInputActionTypes.js","reducers/userInputReducer.js","action-types/textDataActionTypes.js","reducers/textDataReducer.js","reducers/index.js","img/logo.png","components/Logo/index.jsx","selectors/textDataSelectors.js","hooks/useFetchText.js","action-creators/textDataActionCreators.js","components/TextField/index.jsx","action-creators/userInputActionCreators.js","selectors/userInputSelectors.js","components/SpeedInfo/index.jsx","components/ResetButton/index.jsx","containers/Layout/index.jsx","components/Playground/index.jsx","App.js","store/index.js","index.js"],"names":["module","exports","USER_INPUT_KEY_PRESSED","USER_INPUT_RESET","initialState","typesCount","startTime","TEXT_DATA_TEXT_TO_INPUT_FETCHED","TEXT_DATA_CORRECT_SYMBOL_ADDED","TEXT_DATA_INCORRECT_SYMBOL_ADDED","TEXT_DATA_RESET","inputedText","textToInput","error","rootReducer","combineReducers","userInput","state","action","type","Date","textData","payload","arrTextToInput","split","slice","join","Logo","src","logo","alt","className","styles","textDataSelector","textDataInputedTextSelector","textDataTextToInputSelector","textDataErrorSelector","useFetchText","dispatch","useDispatch","fetchText","useCallback","axios","get","then","res","text","data","useSelector","useHandleUserInput","handleUserInput","e","targetSymbol","key","useEffect","window","addEventListener","removeEventListener","TextField","first","others","style","backgroundColor","color","userInputSelector","startTimeSelector","SpeedInfo","speed","useState","setSpeed","count","length","interval","setInterval","now","clearInterval","Math","floor","useGetSpeed","useReset","target","blur","ResetButton","handleClick","onClick","btn","Layout","wrap","header","main","main_wrap","content","result","Playground","store","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunkMiddleware","createStore","createReduxStore","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.426bb829.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"TextField_text__1PKp_\",\"inputedText\":\"TextField_inputedText__grbCE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"logo\":\"Logo_logo__2LJZK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"ResetButton_btn__137xP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Layout_header__1kwmh\",\"main_wrap\":\"Layout_main_wrap__1TiWp\",\"content\":\"Layout_content__nl06j\",\"result\":\"Layout_result__2RrI4\"};","export const USER_INPUT_KEY_PRESSED = 'USER_INPUT_KEY_PRESSED';\nexport const USER_INPUT_RESET = 'USER_INPUT_RESET';","import {USER_INPUT_KEY_PRESSED, USER_INPUT_RESET} from \"../action-types/userInputActionTypes\";\n\nconst initialState = {\n    typesCount: 0,\n    startTime: null,\n}\n\nexport const userInputReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case USER_INPUT_KEY_PRESSED:\n            return {\n                ...state,\n                typesCount: state.typesCount + 1,\n                startTime: state.startTime ? state.startTime : new Date(),\n            }\n\n        case USER_INPUT_RESET:\n            return initialState;\n\n        default: return state;\n    }\n}","export const TEXT_DATA_TEXT_TO_INPUT_FETCHED = 'TEXT_DATA_TEXT_TO_INPUT_FETCHED';\nexport const TEXT_DATA_CORRECT_SYMBOL_ADDED = 'TEXT_DATA_CORRECT_SYMBOL_ADDED';\nexport const TEXT_DATA_INCORRECT_SYMBOL_ADDED = 'TEXT_DATA_INCORRECT_SYMBOL_ADDED';\nexport const TEXT_DATA_RESET = 'TEXT_DATA_RESET';","import {\n    TEXT_DATA_CORRECT_SYMBOL_ADDED,\n    TEXT_DATA_INCORRECT_SYMBOL_ADDED, TEXT_DATA_RESET,\n    TEXT_DATA_TEXT_TO_INPUT_FETCHED\n} from \"../action-types/textDataActionTypes\";\n\n\nconst initialState = {\n    // Текст который пользователь уже ввел\n    inputedText: '',\n\n    // Текст который надо ввести\n    textToInput: '',\n\n    // Последний ввод неверный\n    error: false,\n}\n\nexport const textDataReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case TEXT_DATA_TEXT_TO_INPUT_FETCHED:\n            return {\n                ...state,\n                textToInput: action.payload,\n            }\n\n        case TEXT_DATA_CORRECT_SYMBOL_ADDED:\n            const arrTextToInput = state.textToInput.split('');\n\n            return {\n                ...state,\n                inputedText: state.inputedText + arrTextToInput[0],\n                textToInput: arrTextToInput.slice(1).join(''),\n                error: false,\n            }\n\n        case TEXT_DATA_INCORRECT_SYMBOL_ADDED:\n            return {\n                ...state,\n                error: true,\n            }\n\n        case TEXT_DATA_RESET:\n            return initialState;\n\n        default: return state;\n    }\n}","import {combineReducers} from \"redux\";\nimport {userInputReducer} from \"./userInputReducer\";\nimport {textDataReducer} from \"./textDataReducer\";\n\nexport const rootReducer = combineReducers({\n    userInput: userInputReducer,\n    textData: textDataReducer,\n});","export default __webpack_public_path__ + \"static/media/logo.6bddf015.png\";","import logo from '../../img/logo.png'\nimport styles from './index.module.css'\n\nexport const Logo = () => {\n    return (\n        <div>\n            <img src={logo} alt=\"logo\" className={styles.logo}/>\n        </div>\n    )\n}","const textDataSelector = (state) => state.textData;\n\nexport const textDataInputedTextSelector = state => textDataSelector(state).inputedText;\nexport const textDataTextToInputSelector = state => textDataSelector(state).textToInput;\nexport const textDataErrorSelector = state => textDataSelector(state).error;","import {useDispatch, useSelector} from \"react-redux\";\nimport {useCallback} from \"react\";\nimport axios from \"axios\";\nimport {textToInputFetched} from \"../action-creators/textDataActionCreators\";\nimport {textDataInputedTextSelector, textDataTextToInputSelector} from \"../selectors/textDataSelectors\";\n\nexport const useFetchText = () => {\n    const dispatch = useDispatch();\n\n    const fetchText = useCallback(() => {\n        axios\n            .get('https://fish-text.ru/get?format=json&number3')\n            .then((res) => dispatch(textToInputFetched(res.data.text)));\n    }, [dispatch]);\n\n    const inputedText = useSelector(textDataInputedTextSelector);\n\n    const textToInput = useSelector(textDataTextToInputSelector);\n\n    return {\n        fetchText,\n        inputedText,\n        textToInput\n    }\n};","import {\n    TEXT_DATA_CORRECT_SYMBOL_ADDED,\n    TEXT_DATA_INCORRECT_SYMBOL_ADDED, TEXT_DATA_RESET,\n    TEXT_DATA_TEXT_TO_INPUT_FETCHED\n} from \"../action-types/textDataActionTypes\";\n\nexport const textToInputFetched = (text) => ({\n    type: TEXT_DATA_TEXT_TO_INPUT_FETCHED,\n    payload: text,\n});\n\nexport const correctSymbolAdded = () => ({\n    type: TEXT_DATA_CORRECT_SYMBOL_ADDED,\n});\n\nexport const incorrectSymbolAdded = () => ({\n    type: TEXT_DATA_INCORRECT_SYMBOL_ADDED,\n});\n\nexport const textDataReset = () => ({\n    type: TEXT_DATA_RESET,\n});","import {useDispatch, useSelector} from \"react-redux\";\nimport {useEffect} from \"react\";\nimport {correctSymbolAdded, incorrectSymbolAdded} from \"../../action-creators/textDataActionCreators\";\nimport {\n    textDataErrorSelector,\n} from \"../../selectors/textDataSelectors\";\nimport {userInputKeyPressed} from \"../../action-creators/userInputActionCreators\";\nimport {useFetchText} from '../../hooks/useFetchText';\nimport styles from \"./index.module.css\"\n\nconst useHandleUserInput = (textToInput) => {\n    const dispatch = useDispatch();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    function handleUserInput(e) {\n        const targetSymbol = textToInput[0];\n        dispatch(userInputKeyPressed());\n\n        if (e.key === targetSymbol) {\n            dispatch(correctSymbolAdded());\n        } else {\n            dispatch(incorrectSymbolAdded());\n        }\n    }\n\n    useEffect(() => {\n        window.addEventListener('keypress', handleUserInput);\n\n        return () => {\n            window.removeEventListener('keypress', handleUserInput);\n        }\n    }, [handleUserInput]);\n}\n\nexport const TextField = () => {\n    const { inputedText, textToInput, fetchText } = useFetchText();\n\n    useEffect(() => {\n        fetchText();\n    }, [fetchText]);\n    const [first, ...others] = textToInput;\n\n\n    useHandleUserInput(textToInput);\n    const error = useSelector(textDataErrorSelector);\n\n    return (\n        <div className={styles.text}>\n            <span className={styles.inputedText}>{inputedText}</span>\n            <span style={{\n                backgroundColor: error ? 'red' : 'green',\n                color: 'white'\n            }}>\n                {first}\n            </span>\n            {others.join('')}\n        </div>\n    );\n}","import {USER_INPUT_KEY_PRESSED, USER_INPUT_RESET} from \"../action-types/userInputActionTypes\";\n\nexport const userInputKeyPressed = () => ({\n    type: USER_INPUT_KEY_PRESSED,\n});\n\nexport const userInputReset = () => ({\n    type: USER_INPUT_RESET,\n});","const userInputSelector = (state) => state.userInput;\n\nexport const typesCountSelector = (state) => userInputSelector(state).typesCount;\nexport const startTimeSelector = (state) => userInputSelector(state).startTime ?? new Date();","import {useSelector} from \"react-redux\";\nimport {startTimeSelector} from \"../../selectors/userInputSelectors\";\nimport {useEffect, useState} from \"react\";\nimport {textDataInputedTextSelector} from \"../../selectors/textDataSelectors\";\n\nconst useGetSpeed = () => {\n    const [speed, setSpeed] = useState(0);\n\n    const count = useSelector(textDataInputedTextSelector).length;\n    const startTime = useSelector(startTimeSelector);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            const now = new Date();\n            const time = (now - startTime) / 60000;\n            setSpeed(count / time);\n        }, 300);\n\n        return () => {\n            clearInterval(interval);\n        }\n    }, [count, startTime]);\n\n    return Math.floor(speed);\n}\n\nexport const SpeedInfo = () => {\n    const speed = useGetSpeed();\n\n    return (\n        <div>\n            <p>Скорость</p>\n            <span>{speed} зн./мин.</span>\n        </div>\n    )\n}","import {useDispatch} from \"react-redux\";\nimport {userInputReset} from \"../../action-creators/userInputActionCreators\";\nimport {textDataReset} from \"../../action-creators/textDataActionCreators\";\nimport {useCallback} from \"react\";\nimport {useFetchText} from \"../../hooks/useFetchText\";\nimport styles from \"./index.module.css\"\n\nconst useReset = () => {\n    const dispatch = useDispatch();\n    const {fetchText} = useFetchText();\n\n    return useCallback((e) => {\n        e.target.blur();\n\n        dispatch(userInputReset());\n        dispatch(textDataReset());\n        fetchText();\n    }, [dispatch, fetchText]);\n};\n\nexport const ResetButton = () => {\n    const handleClick = useReset();\n\n    return (\n        <button onClick={handleClick} className={styles.btn}>Заново</button>\n    )\n}","import { Logo } from '../../components/Logo'\nimport React from 'react';\nimport styles from './index.module.css'\nimport {TextField} from '../../components/TextField';\nimport {SpeedInfo} from \"../../components/SpeedInfo\";\nimport {ResetButton} from \"../../components/ResetButton\";\n\nexport const Layout = ({dispatch, state}) => {\n    return (\n        <div className={styles.wrap}>\n            <div className={styles.header}>\n                <div className=\"container\">\n                    <Logo />\n                    <div>Fast Typing Trainer</div>\n                </div>\n            </div>\n            <main className={styles.main}>\n                <div className=\"container\">\n                    <div className={styles.main_wrap}>\n                        <div className={styles.content}>\n                            <TextField />\n                            <div className={styles.result}>\n                                <SpeedInfo />\n                                <ResetButton />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </main>\n        </div>\n    )\n}","import { Layout } from \"../../containers/Layout\";\n\n\nexport const Playground = () => {\n    return (\n        <>\n            <Layout />\n        </>\n    )\n};\n","import {createReduxStore} from \"./store\";\nimport {Provider} from \"react-redux\";\nimport {Playground} from \"./components/Playground\";\nimport './App.css'\n\nconst store = createReduxStore();\n\nfunction App() {\n    return (\n      <Provider store={store}>\n        <div className=\"App\">\n            <Playground />\n        </div>\n      </Provider>\n    );\n}\n\nexport default App;\n","import {applyMiddleware, compose, createStore} from \"redux\";\nimport {rootReducer} from \"../reducers\";\nimport thunkMiddleware from \"redux-thunk\";\n\nexport const createReduxStore = () => {\n    const composeEnhancers =\n        typeof window === 'object' &&\n        window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ ?\n            window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({\n                // Specify extension’s options like name, actionsBlacklist, actionsCreators, serialize...\n            }) : compose;\n\n    const enhancer = composeEnhancers(\n        applyMiddleware(thunkMiddleware),\n    );\n\n    return createStore(\n        rootReducer,\n        enhancer\n    );\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}